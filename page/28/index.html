<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Adam Wulf &ndash; Page 28</title>
<meta name="robots" content="max-image-preview:large">
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="alternate" type="application/rss+xml" title="Adam Wulf &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="Adam Wulf &raquo; Comments Feed" href="/comments/feed/">
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.8.1" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id="global-styles-inline-css" type="text/css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel="stylesheet" id="slightly-flexboxgrid-css" href="/wp-content/themes/slightly/css/flexboxgrid.min.css?ver=6.8.1" type="text/css" media="all">
<link rel="stylesheet" id="slightly-style-css" href="/wp-content/themes/slightly/style.css?ver=6.8.1" type="text/css" media="all">
<style id="akismet-widget-style-inline-css" type="text/css">

			.a-stats {
				--akismet-color-mid-green: #357b49;
				--akismet-color-white: #fff;
				--akismet-color-light-grey: #f6f7f7;

				max-width: 350px;
				width: auto;
			}

			.a-stats * {
				all: unset;
				box-sizing: border-box;
			}

			.a-stats strong {
				font-weight: 600;
			}

			.a-stats a.a-stats__link,
			.a-stats a.a-stats__link:visited,
			.a-stats a.a-stats__link:active {
				background: var(--akismet-color-mid-green);
				border: none;
				box-shadow: none;
				border-radius: 8px;
				color: var(--akismet-color-white);
				cursor: pointer;
				display: block;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen-Sans', 'Ubuntu', 'Cantarell', 'Helvetica Neue', sans-serif;
				font-weight: 500;
				padding: 12px;
				text-align: center;
				text-decoration: none;
				transition: all 0.2s ease;
			}

			/* Extra specificity to deal with TwentyTwentyOne focus style */
			.widget .a-stats a.a-stats__link:focus {
				background: var(--akismet-color-mid-green);
				color: var(--akismet-color-white);
				text-decoration: none;
			}

			.a-stats a.a-stats__link:hover {
				filter: brightness(110%);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 0 2px rgba(0, 0, 0, 0.16);
			}

			.a-stats .count {
				color: var(--akismet-color-white);
				display: block;
				font-size: 1.5em;
				line-height: 1.4;
				padding: 0 13px;
				white-space: nowrap;
			}
		
</style>
<link rel="https://api.w.org/" href="/wp-json/"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.8.1">

		<!-- GA Google Analytics @ https://m0n.co/ga -->
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-180672-7', 'auto');
			ga('set', 'anonymizeIp', true);
			ga('set', 'forceSSL', true);
			ga('send', 'pageview');
		</script>

	    <style>
        body, button, input, select, textarea, a { 
            color: ;
        }
      
        .menu-toggle {
          color: ;
          background-color: #;
        }
      
        #primary-menu {
          color: ;
          background-color: #;
        }
    </style>

    </head>

<body class="home blog paged paged-28 wp-theme-slightly hfeed">

<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>


	<header id="masthead" class="site-header" role="banner">
  <div class="row">
    <div class="col-xs-12 site-header-col">
		<div class="site-branding">
			                    <h1 class="site-title"><a href="/" rel="home">Adam Wulf</a></h1>
                		</div><!-- .site-branding -->
		<nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">Menu</button>
			<div class="menu-navigation-container"><ul id="primary-menu" class="menu"><li id="menu-item-5164" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-home menu-item-5164"><a href="/">Home</a></li>
<li id="menu-item-5167" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5167"><a href="/about/">About</a></li>
<li id="menu-item-5166" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5166"><a href="/projects/">Projects</a></li>
<li id="menu-item-5165" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5165"><a href="/open-source/">Open Source</a></li>
</ul></div>		</nav><!-- #site-navigation -->
      </div>
    </div>
	</header><!-- #masthead -->


	<div id="content" class="site-content">




<div class="row row--index">
              <div class="col-xs-12">
      			<header class="page-header">
				<h2 class="h1 page-title tagline"></h2>
			</header><!-- .page-header -->
    </div>
</div>
  <div class="row">
              <div class="col-xs-12 col-sm-7">
      	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

        
<article id="post-5210" class="post-5210 post type-post status-publish format-standard hentry category-uncategorized">
    <div class="row no-pad">
      
        
        <div class="col-xs-12 col-sm-11 no-pad">
            <header class="entry-header">
                <h2 class="entry-title"><a href="/2019/08/setting-up-phpstorm-as-a-new-developer/" rel="bookmark">Setting up PhpStorm as a new developer</a></h2>                <div class="entry-meta">
                    <a href="/2019/08/setting-up-phpstorm-as-a-new-developer/"><span class="posted-on"><time class="entry-date published" datetime="2019-08-11T04:09:19+00:00">August 11, 2019</time><time class="updated" datetime="2020-08-02T17:32:02+00:00">August 2, 2020</time> </span></a>
                </div><!-- .entry-meta -->
                            </header><!-- .entry-header -->
            <div class="entry-content">
                
                                        
            
<p>Recently I&rsquo;ve started working on <a href="https://www.funnelanalytics.net/">Funnel Cake</a>, a sort of IFTTT for your marketing data (or any data, really). You can sign up for free and <a href="https://www.funnelanalytics.net/">try it out here</a>, but today I want to document my development workflow.</p>



<p>It&rsquo;s been nearly 10 years since I&rsquo;ve done heavy PHP or Javascript development, so I&rsquo;m starting in some ways as a beginner again. It might be helpful for others to see how I&rsquo;ve setup my development environment.</p>



<p>I&rsquo;ve been working on iOS and Mac Objective-C development for the past years, and I wanted to bring some of that experience to this project. Namely:</p>



<ul class="wp-block-list"><li>IDE that understands the class structure of my app</li><li>Code completion</li><li>Single click or keyboard command to get to a symbol definition or superclass</li><li>Static analysis of the codebase</li></ul>



<h4 class="wp-block-heading">PhpStorm and Plugins</h4>



<p>I settled on <a href="https://www.jetbrains.com/phpstorm/">PhpStorm</a>, a mature IDE from Jetbrians focused specifically to PHP and web development. Out of the box it already does a lot, but it&rsquo;s static analysis of the code is a bit lacking. No worries, as it&rsquo;s built with extensibility in mind. I quickly installed <a href="https://github.com/kalessil/phpinspectionsea/blob/master/docs/getting-started.md">Php Extensions (EA Extended)</a> plugin, which solved the majority of my wishes. It adds a number of additional inspections to PhpStorm&rsquo;s already strong showing.</p>



<p>After installing, I choose <code>Code -&gt; Inspect Code</code> from the menu, and a report is generated that shows all of the static analysis issues in my codebase, many with single-click automatic fixes.</p>



<h4 class="wp-block-heading">Working with Composer</h4>



<p>Some of the code in my project is obviously mine &ndash; this is the code I want to analyze. Some of the code is other frameworks I&rsquo;m using, and I want the static analyzer to know about this code, but I don&rsquo;t want it to report any analysis bugs in that code. It took me a bit to figure out how to set that up properly, but I was able to fix all of the issues by:</p>



<ol class="wp-block-list"><li>Excluding the <code>vendors</code> folder from the <code>Directories</code> preferences area</li><li>Adding back each of the vendors&rsquo; <code>src</code> folders in <code>Languages &amp; Frameworks -&gt; PHP</code> Include Paths area</li><li>My project is PHP 7.3+ only, so I also set the <code>PHP Language Level</code> to 7.3</li><li>Configured Composer in <code>Languages &amp; Frameworks -&gt; PHP -&gt; Composer</code> preferences</li></ol>



<h4 class="wp-block-heading">Scopes</h4>



<p>By default, the <code>Find</code> command (<code>Cmd+Shift+F</code>) will search the entire project, including composer&rsquo;s vendors and test files. Similarly, the static analysis in <code>Code -&gt; Inspect Code</code> will show you errors in your code, or test code, the vendor&rsquo;s test code, etc. To get around this, you can setup a &ldquo;Scope&rdquo; for your project, and limit these commands to that scope.</p>



<p>Setup a new Scope in <code>Appearance &amp; Behavior -&gt; Scopes</code>, add new new scope, and then select any test folders or vendor folders that you don&rsquo;t want to show up in the static analysis, and choose <code>Exclude Recursively</code>. </p>



<p>This won&rsquo;t exclude these classes from analysis, but it will exclude any issues found in them from the report. This way, any code you rely on will type check properly, but you won&rsquo;t get type-checking errors etc from that 3rd party code. Now you can use <code>Code -&gt; Inspect Code</code> and get a report of only your code&rsquo;s issues.</p>



<h4 class="wp-block-heading">Inspections</h4>



<p>PhpStorm has tons of static-analysis options built in, and you can opt in or out of each by toggling Inspections in <code>Editor -&gt; Inspections</code> preference. The PhpExtensions (EA Extended) plugin adds inspections to this area as well, beefing up the analysis report.</p>



<p>Some of these I&rsquo;ve turned off, most of them I&rsquo;ve left on, but it depends on you preference and codebase. Another handy feature is the &lsquo;intention bulb&rsquo; that let&rsquo;s you take quick action on any highlighted errors or warnings in your code.</p>



<div class="wp-block-image"><figure class="aligncenter is-resized"><img decoding="async" src="/wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.12.22-PM-1024x397.png" alt="" class="wp-image-5234" width="346" height="133" srcset="/wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.12.22-PM-1024x397.png 1024w, /wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.12.22-PM-300x116.png 300w, /wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.12.22-PM-768x298.png 768w, /wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.12.22-PM.png 1032w" sizes="(max-width: 346px) 100vw, 346px"><figcaption>The &lsquo;intention bulb&rsquo; shows quick actions to resolve (or ignore) a problem in your code.</figcaption></figure></div>



<p>As I&rsquo;ve been tidying up my codebase, the bulb has been very helpful for applying quick fixes. As I get further along, I suspect I may turn it off, which you can do in <code>Editor -&gt; General -&gt; Appearance</code> and turn of the <code>Show intention bulb</code> setting.</p>



<h4 class="wp-block-heading">Phan Integration</h4>



<p><a href="https://github.com/phan/phan">Phan</a> is a static analyzer for PHP and can find type-safety issues in your codebase that PhpStorm can&rsquo;t otherwise find out of the box. It&rsquo;s great at finding logic errors where you may be returning the wrong type, or expecting a different type from a method than it returns. Is that an array of <code>Animal</code> or array of <code>Dog</code>? Phan knows, and it&rsquo;ll help catch you when you remember wrong.</p>



<p>Unfortunately, there&rsquo;s no Phan Plugin for PhpStorm, so instead it needs to run as an External tool. PhpStorm can run the phan console command and show the output inside a pane &ndash; conveniently also linking the src path in the output for easy click-to-find from the output. (I lost the link where I learned this, so thanks to whoever posted about this before!)</p>



<p>To help format phan&rsquo;s output, I run the analysis with the following script in my projects root directory:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="shell" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">/location/to/phan &gt; phan.out

cat phan.out | sed G | sed -E 's|([a-zA-Z0-9 _\./\-]+:[[:digit:]]+)|'"$(pwd)"'/\1\
|g' | fold -sw 150

num_matches=$(cat phan.out | wc -l | xargs);

if [ -s phan.out ]; then
        echo "There are ${num_matches} errors";
else
        echo "No errors";
fi

rm phan.out</pre>



<p>Notice at the top of the script, you&rsquo;ll need to specify where you&rsquo;ve installed the phan binary. After that, running the script will output all of the errors it found. It will also convert the relative paths of the phan output to be absolute paths so that PhpStorm will auto-link them in the output.</p>



<p>There are numerous options for Phan, but I&rsquo;ve kept my config very simple. I&rsquo;ve included it below for reference:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="php" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&lt;?php

/**
 * This configuration will be read and overlaid on top of the
 * default configuration. Command line arguments will be applied
 * after this file is read.
 */
return [
    // Supported values: `'5.6'`, `'7.0'`, `'7.1'`, `'7.2'`, `'7.3'`, `null`.
    // If this is set to `null`,
    // then Phan assumes the PHP version which is closest to the minor version
    // of the php executable used to execute Phan.
    //
    // Note that the **only** effect of choosing `'5.6'` is to infer
    // that functions removed in php 7.0 exist.
    // (See `backward_compatibility_checks` for additional options)
    // TODO: Set this.
    'target_php_version' =&gt; '7.3',

    // A list of directories that should be parsed for class and
    // method information. After excluding the directories
    // defined in exclude_analysis_directory_list, the remaining
    // files will be statically analyzed for errors.
    //
    // Thus, both first-party and third-party code being used by
    // your application should be included in this list.
    'directory_list' =&gt; [
        'library',
        'vendor/google',
        'vendor/tplaner/when',
        'vendor/monolog/monolog',
        'vendor/dibi/dibi',
        'vendor/sendgrid/sendgrid',
        'vendor/sendgrid/php-http-client',
        'vendor/nesbot/carbon',
        'config',
    ],

    // A regex used to match every file name that you want to
    // exclude from parsing. Actual value will exclude every
    // "test", "tests", "Test" and "Tests" folders found in
    // "vendor/" directory.
    'exclude_file_regex' =&gt; '@^vendor/.*/(tests?|Tests?)/@',

    // A directory list that defines files that will be excluded
    // from static analysis, but whose class and method
    // information should be included.
    //
    // Generally, you'll want to include the directories for
    // third-party code (such as "vendor/") in this list.
    //
    // n.b.: If you'd like to parse but not analyze 3rd
    //       party code, directories containing that code
    //       should be added to both the `directory_list`
    //       and `exclude_analysis_directory_list` arrays.
    'exclude_analysis_directory_list' =&gt; [
        'vendor/'
    ],
];</pre>



<p>I&rsquo;ve left the comments of phan&rsquo;s own sample config file for reference, but a few notes about the config:</p>



<ul class="wp-block-list"><li>In the <code>directory_list</code>, include any directories of your code or 3rd party code. This is what phan will analyze.</li><li>In the <code>exclude_analysis_directory_list</code>, include all 3rd party code. This will exclude any issues in 3rd party code from showing in phan&rsquo;s report.</li><li>Set <code>target_php_version</code> to whatever is correct for your project</li></ul>



<p>Now that phan is configured, you can manually run phan from the command line with the script:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="shell" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">./run_phan.sh</pre>



<p>Next, let&rsquo;s integrate this into PhpStorm so that you can run it easily from within the IDE and turn all those file paths into clickable links. In <code>Preferences -&gt; Tools -&gt; External Tools</code>, click to add a new tool. Name it whatever you want, select the <code>run_phan.sh</code> script as the Program, and set your project&rsquo;s directory as the working directory. Last, set the Output filters to <code>$FILE_PATH$:$LINE$</code>.</p>



<p>That&rsquo;s it &ndash; now you can run the phan analysis from within PhpStorm from <code>Tools -&gt; External Tools -&gt; Phan</code> menu. It will open up a console tab and show you the output with clickable links to each problem.</p>



<figure class="wp-block-image"><img fetchpriority="high" decoding="async" width="1024" height="240" src="/wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.40.25-PM-1024x240.png" alt="" class="wp-image-5242" srcset="/wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.40.25-PM-1024x240.png 1024w, /wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.40.25-PM-300x70.png 300w, /wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.40.25-PM-768x180.png 768w, /wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-8.40.25-PM.png 1628w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<h4 class="wp-block-heading">PHP Docblocks</h4>



<p>Most of the code I write in PHP is strongly typed, though I do dip into untyped code from time to time, that flexibility is one of the reasons I love PHP. The static analysis that&rsquo;s available now for the strongly typed code is fantastic, but the language isn&rsquo;t as descriptive as I&rsquo;d always like it to be.</p>



<p>That&rsquo;s where docblocks come in. The static analysis above also reads the <code>@param</code> and <code>@return</code> types defined in dock blocks, and uses that for its analysis. This is incredibly helpful for defining type expectations that otherwise aren&rsquo;t possible in code, such as generics in <code>@param array&lt;int,string&gt;</code>.</p>



<p>Clearly defining types with generics when possible has helped the analysis find bugs that otherwise would&rsquo;ve taken me an enormous amount of time to  find. It&rsquo;s also incredibly helpful for documenting variable types, such as:</p>



<pre class="EnlighterJSRAW" data-enlighter-language="php" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">/** @var string $myvar */
$myvar = 4; // static analysis warning</pre>



<h4 class="wp-block-heading">Keyboard and Mouse Shortcuts</h4>



<p>There&rsquo;s a few very handy Find keyboard shortcuts in PhpStorm. The first two are common across many IDEs: Find in Files is <code>Cmd+Shift+F</code>. Find Class is <code>Command+O</code>. Two others that are equally helpful are Find Symbol <code>Command+Option+O</code> and Find File <code>Command+Shift+O</code>. I&rsquo;ve actually swapped the shortcuts for Find File and Find Class so that Find Class matches Xcode, but I use all of these very frequently.</p>



<p>I also set <code>Quick Definition</code> to <code>Option+Click</code> to mirror Xcode&rsquo;s <code>Go to Documentation</code> shortcut. This shows the declaration of whatever symbol is under my mouse cursor, very handy for hard to remember method parameters.</p>



<div class="wp-block-image"><figure class="aligncenter is-resized"><img decoding="async" src="/wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-7.49.06-PM-1024x582.png" alt="" class="wp-image-5216" width="378" height="214" srcset="/wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-7.49.06-PM-1024x582.png 1024w, /wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-7.49.06-PM-300x171.png 300w, /wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-7.49.06-PM-768x437.png 768w" sizes="(max-width: 378px) 100vw, 378px"><figcaption>Quick Definition shows a popup of the symbol&rsquo;s definition. I tied it to Xcode&rsquo;s documentation mouse shortcut.</figcaption></figure></div>



<div class="wp-block-image"><figure class="alignright is-resized"><img loading="lazy" decoding="async" src="/wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-7.53.04-PM-1.png" alt="" class="wp-image-5228" width="218" height="113" srcset="/wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-7.53.04-PM-1.png 664w, /wp-content/uploads/2019/08/Screen-Shot-2019-08-10-at-7.53.04-PM-1-300x155.png 300w" sizes="auto, (max-width: 218px) 100vw, 218px"></figure></div>



<p>I added <code>Command+S</code> to the <code>Escape</code> command, as by habit I save my files to close any auto-completion popup. Better to save too often than not often enough!</p>



<p>Adding or editing other shortcuts is easy, as I could either search for the command by name or by its current shortcut.</p>



<h4 class="wp-block-heading">Still More to Learn</h4>



<p>I&rsquo;m only a few months back on the saddle with PHP, so I&rsquo;m sure that there is still more for me to learn about PhpStorm and PHP 7.3, but I&rsquo;m really happy with where I&rsquo;ve gotten my setup for development.</p>
            </div><!-- .entry-content -->
        <footer class="entry-footer">
                    </footer><!-- .entry-footer -->
            
        </div>

        
        
                
        
    </div><!-- end .row-->
</article><!-- #post-## -->
<div class="row no-pad"><div class="col-xs-12 col-sm-11 no-pad">
	<nav class="navigation posts-navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="/page/29/">Older posts</a></div><div class="nav-next"><a href="/page/27/">Newer posts</a></div></div>
	</nav></div></div>
		</main><!-- #main -->
	</div><!-- #primary -->
        
    </div>
    <div class="col-xs-12 col-sm-4 col-sm-offset-1">
      
<aside id="secondary" class="widget-area" role="complementary">
	<section id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Search">
			</form></section><section id="custom_html-3" class="widget_text widget widget_custom_html"><h3 class="widget-title">Adam Wulf</h3><div class="textwidget custom-html-widget"><p>
<a href="/about/"><img alt="Adam Wulf Profile" src="/images/profile.png" width="56" height="56" border="0" class="profile"></a>I am an independent iOS and Mac app developer. This site hosts my various <a href="/projects/">projects</a> and <a href="/tutorials/">tutorials</a>. Read more <a href="/about/">about me</a>.
</p></div></section><section id="custom_html-4" class="widget_text widget widget_custom_html"><h3 class="widget-title">Contact</h3><div class="textwidget custom-html-widget"><p><img alt="email" src="/images/email16.png" class="icon" srcset="/images/email16@2x.png 2x, /images/email16.png 1x"> 
	<script language="JavaScript">
		var name = "adam";
		var domain = "adamwulf.me";
		document.write("<a href=\"mailto:" + name + "@" + domain + "\">");
		document.write(name + "@" + domain + '</a>');
	</script>
</p>
<p><img src="/images/mastodon.png" srcset="/images/mastodon@2x.png 2x, /images/mastodon.png 1x" class="icon"> <a rel="me" href="https://mstdn.social/@adamwulf">Mastodon</a></p>
<p><img src="/images/bluesky.png" srcset="/images/bluesky@2x.png 2x, /images/bluesky.png 1x" class="icon"> <a rel="me" href="https://bsky.app/profile/adamwulf.bsky.social">Bluesky</a></p>
<p><img alt="github" src="/images/github16.png" class="icon" srcset="/images/github16@2x.png 2x, /images/github16.png 1x"> <a href="https://github.com/adamwulf" onclick="_gaq.push(['_trackEvent', 'outbound-widget', 'https://github.com/adamwulf', 'GitHub']);">GitHub</a></p>
<p><img src="/images/lin.png" class="icon" srcset="/images/lin@2x.png 2x, /images/lin.png 1x"> <a href="http://www.linkedin.com/in/adamwulf" onclick="_gaq.push(['_trackEvent', 'outbound-widget', 'http://www.linkedin.com/in/adamwulf', 'LinkedIn']);">LinkedIn</a></p></div></section><section id="nav_menu-2" class="widget widget_nav_menu"><h3 class="widget-title">Popular</h3><div class="menu-popular-pages-container"><ul id="menu-popular-pages" class="menu"><li id="menu-item-5829" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-5829"><a href="/2022/06/muse-sync-at-programming-local-first-workshop-ecoop22/">Muse Sync at Programming Local First Workshop &ndash; ECOOP&rsquo;22</a></li>
<li id="menu-item-5830" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-5830"><a href="/2021/03/books-for-robots/">Books for Robots</a></li>
<li id="menu-item-5170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5170"><a href="/columnizer-jquery-plugin/">Columnizer jQuery Plugin</a></li>
<li id="menu-item-5169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5169"><a href="/open-source/model-view-controller-in-jquery/">Model-View-Controller in jQuery</a></li>
<li id="menu-item-5168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5168"><a href="/open-source/bundled-synchronous-ajax-with-jquery/">Bundled and Ordered Asynchronous AJAX</a></li>
</ul></div></section><section id="nav_menu-3" class="widget widget_nav_menu"><h3 class="widget-title">Links</h3><div class="menu-outbound-links-container"><ul id="menu-outbound-links" class="menu"><li id="menu-item-5341" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5341"><a href="https://museapp.com/">Muse App</a></li>
<li id="menu-item-5173" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5173"><a href="https://getlooseleaf.com/">Loose Leaf App</a></li>
<li id="menu-item-5172" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5172"><a href="https://www.jotbook.net/">Jotbook</a></li>
<li id="menu-item-5171" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5171"><a href="http://buckwilson.me/">Buck Wilson</a></li>
</ul></div></section></aside><!-- #secondary -->
      </div>
      
  </div>
  

	</div><!-- #content -->

	<footer id="colophon" class="site-footer" role="contentinfo">

  <div class="row">
    <div class="col-xs-12">
        
		<div class="site-info">
            &copy; 2025 <a href="/" rel="home">Adam Wulf</a> &bull; <a href="https://slightlytheme.com/?ref=footer">Slightly Theme</a>		</div><!-- .site-info -->

    </div>
    </div>
        
	</footer><!-- #colophon -->
</div><!-- #page -->

<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/slightly\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<script type="text/javascript">/* <![CDATA[ */!function(e,n){var r={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":4,"ampersandCleanup":true,"linehover":false,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"wpcustom","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""},"resources":["\/wp-content\/plugins\/enlighter\/cache\/enlighterjs.min.css?TMA22bS9bPYA1tn","\/wp-content\/plugins\/enlighter\/resources\/enlighterjs\/enlighterjs.min.js"]},o=document.getElementsByTagName("head")[0],t=n&&(n.error||n.log)||function(){};e.EnlighterJSINIT=function(){!function(e,n){var r=0,l=null;function c(o){l=o,++r==e.length&&(!0,n(l))}e.forEach(function(e){switch(e.match(/\.([a-z]+)(?:[#?].*)?$/)[1]){case"js":var n=document.createElement("script");n.onload=function(){c(null)},n.onerror=c,n.src=e,n.async=!0,o.appendChild(n);break;case"css":var r=document.createElement("link");r.onload=function(){c(null)},r.onerror=c,r.rel="stylesheet",r.type="text/css",r.href=e,r.media="all",o.appendChild(r);break;default:t("Error: invalid file extension",e)}})}(r.resources,function(e){e?t("Error: failed to dynamically load EnlighterJS resources!",e):"undefined"!=typeof EnlighterJS?EnlighterJS.init(r.selectors.block,r.selectors.inline,r.options):t("Error: EnlighterJS resources not loaded yet!")})},(document.querySelector(r.selectors.block)||document.querySelector(r.selectors.inline))&&e.EnlighterJSINIT()}(window,console); /* ]]> */</script><script type="text/javascript" src="/wp-content/themes/slightly/js/navigation.js?ver=20151215" id="slightly-navigation-js"></script>
<script type="text/javascript" src="/wp-content/themes/slightly/js/skip-link-focus-fix.js?ver=20151215" id="slightly-skip-link-focus-fix-js"></script>

</body>
</html>
