<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Internet Explorer 7 .parentNode bug</title>

<!-- TinyMCE -->
<script src="http://welcome.totheinter.net/autocolumn/jquery.js" ></script>
<script type="text/javascript" src="/examples/tinymce/3.2.5/jscripts/tiny_mce/tiny_mce_src.js"></script>
<script type="text/javascript" src="/examples/tinymce/3.2.5/jscripts/tiny_mce/plugins/duplicate/editor_plugin_src.js"></script>
<script type="text/javascript">
	tinyMCE.init({
		mode : "exact",
		elements : "elm1",
		theme : "simple",
		plugins : "duplicate",
		toolbar_location : 'top',
		theme_advanced_buttons1 : "validate"
	});
</script>
<!-- /TinyMCE -->

<style>
.mceButtonLabel{
font-family:verdana;
font-size:11px;
}
.defaultSimpleSkin a span.mce_validate{
	display: none;
}
.defaultSimpleSkin a.mceButton{
	width: 64px;
	margin-left: 10px;
}
#elm1_container{
 display: block;
 width: 80%;
	height: 400px;
}
#theContents{
	margin-top: 10px;
	width: 80%;
	height: 400px;
}
</style>
</head>
<body>

<form method="post" action="http://tinymce.moxiecode.com/dump.php?example=true">
	<h3>The parentNode problem in IE7</h3>
	<p>
		For more context around this demo, visit: <a href="http://welcome.totheinter.net/2009/07/21/the-undocumented-life-of-javascripts-parentnode-property-internet-explorer-edition/">http://welcome.totheinter.net/2009/07/21/the-undocumented-life-of-javascripts-parentnode-property-internet-explorer-edition/</a>.
	</p>
	<p>
		When traversing the DOM in JavaScript in IE7 (possibly 6 and 8 too), the parentNode of a given node
		might not be correct. Specifically, when looking at all of a node's children, the children's parentNode
		might not point back to that original node.
	</p>
	<p>
		To see this behavior in action:
	</p>
	<ol>
		<li>Download the <a href="/examples/tinymce/sample.rtf">sample.rtf</a> and open it in <strong>WordPad</strong></li>
		<li>Select all of the text in the document with Ctrl+A</li>
		<li>Paste into the TinyMCE below</li>
		<li>Click the [validate] button</li>
		<li>The nodes with the incorrect parentNode are highlighted in red, 
		and the DOM tree is printed out below the TinyMCE instance.</li>
		<li>Notice the nodes with count=2 and scream in <em>horror</em>!</li>
	</ol>
	<!-- Gets replaced with TinyMCE, remember HTML in a textarea should be encoded -->
	<textarea id="elm1" name="elm1" rows="15" cols="80" style="width: 100%;height: 400px;">&lt;p&gt;Paste the sample.rtf contents here&lt;/p&gt;</textarea>
	<p>
		The structure of the DOM will be printed on the right, and the offending nodes will be wrapped
		in &lt;error&gt; tags
	</p>
	<textarea id="theContents" rows="15" cols="80" style="width: 100%;height: 400px;" readonly></textarea>
</form>

</body>
</html>
